check(cran = T)
devtools::install_github("r-lib/pkgdown")
options(pkgdown.internet = FALSE)
build_site()
load_all()
build_site()
devtools::load_all(export_all = FALSE, helpers = FALSE)
dump("scan_yaml", file = here::here('R',paste0('scan_yaml','.R')))
install.packages("here")
dump("scan_yaml", file = here::here('R',paste0('scan_yaml','.R')))
scan_yaml <-
function (dir = "content")
{
if (missing(dir))
dir = switch(generator(), hugo = "content", jekyll = ".",
hexo = "source")
files = list.files(dir, md_pattern, recursive = TRUE, full.names = TRUE)
if (length(files) == 0)
return(list())
res = lapply(files, function(f) {
yaml = fetch_yaml(f)
if (length(yaml) == 0)
return()
yaml = yaml[-c(1, length(yaml))]
if (length(yaml) == 0)
return()
tryCatch(yaml::yaml.load(paste(yaml, collapse = "\n")),
error = function(e) {
warning("Cannot parse the YAML metadata in '",
f, "'")
NULL
})
})
setNames(res, files)
}
dump("scan_yaml", file = here::here('R',paste0('scan_yaml','.R')))
fetch_yaml <-
function (f)
bookdown:::fetch_yaml(read_utf8(f))
dump("fetch_yaml", file = here::here('R',paste0('fetch_yaml','.R')))
fetch_yaml <-
function (f)
fetch_yaml(read_utf8(f))
dump("fetch_yaml", file = here::here('R',paste0('fetch_yaml','.R')))
check()
check()
use_package('xfun')
check()
blogdown_meta
load_all()
library(tidyverse)
library(data.table)
library(add2blog)
library(here)
here()
here('../')
# blogdown_meta(dir = '.')
"/Users/vija/Downloads/180805_folder_01/tmp_jli/blog_180802/content/post" %>%
blogdown_meta()
blogdown_meta(dir = "/Users/vija/Downloads/180805_folder_01/tmp_jli/blog_180802/content/post")
path <- "/Users/vija/Downloads/180805_folder_01/tmp_jli/blog_180802/content/post"
list.files(path, "[.][Rr]?(md|markdown)$"
)
blogdown_meta(dir = "/Users/vija/Downloads/180805_folder_01/tmp_jli/blog_180802/content/post")
list.files(path, "[.][Rr]?(md|markdown)$", recursive = TRUE, full.names = TRUE)
scan_yaml(path)
md_pattern <- function() "[.][Rr]?(md|markdown)$"
md_pattern
md_pattern <- function(){"[.][Rr]?(md|markdown)$"}
md_pattern
blogdown_meta(dir = "/Users/vija/Downloads/180805_folder_01/tmp_jli/blog_180802/content/post")
blogdown_meta(dir = "/Users/vija/Downloads/180805_folder_01/tmp_jli/blog_180802/content/post")
blogdown_meta(dir = "/Users/vija/Downloads/180805_folder_01/tmp_jli/blog_180802/content/post")
list.files(path, "[.][Rr]?(md|markdown)$", recursive = TRUE, full.names = TRUE)
list.files(path, "[.][Rr]?(md|markdown)$", recursive = TRUE, full.names = TRUE)
scan_yaml(path)
load_all()
list.files(path, "[.][Rr]?(md|markdown)$", recursive = TRUE, full.names = TRUE)
blogdown_meta(dir = "/Users/vija/Downloads/180805_folder_01/tmp_jli/blog_180802/content/post")
scan_yaml(path)
scan_yaml(path)
list.files(path, "[.][Rr]?(md|markdown)$", recursive = TRUE, full.names = TRUE)
check()
use_package('here')
pn <- function(){
now() %>%
as.character() %>%
cat
}
use_packagec('lubridate')
use_package('lubridate')
scan_yaml(dir) %>%
# idea from blogdown count_yaml
# So I update the author
transpose() %>%
as.data.table() %>%
mutate(dir = files) %>%
gather(key,value,-dir) %>%
# mutate(type = map(value,typeof)) %>%
# unnest(type) %>%
dplyr::filter(map(value,typeof) == 'character') %>%
# remove null
unnest(value) %>%
group_by(dir,key) %>%
summarise(content = str_flatten(value,collapse = ',')) %>%
spread(key,content)
blogdown_meta <- function(dir = '.'){
files <- list.files(dir, "[.][Rr]?(md|markdown)$", recursive = TRUE, full.names = TRUE)
scan_yaml(dir) %>%
# idea from blogdown count_yaml
# So I update the author
transpose() %>%
as.data.table() %>%
mutate(dir = files) %>%
gather(key,value,-dir) %>%
# mutate(type = map(value,typeof)) %>%
# unnest(type) %>%
dplyr::filter(map(value,typeof) == 'character') %>%
# remove null
unnest(value) %>%
group_by(dir,key) %>%
summarise(content = str_flatten(value,collapse = ',')) %>%
spread(key,content)
}
pn()
library(lubridate)
pn()
load_all()
pn()
library(add2blog)
add2blog::badge_download(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = 'total'
)
clipr::write_clip(pn())
clipr::dr_clipr(pn())
clipr::clipr(pn())
clipr::read_clip(pn())
pn()
clipr::read_clip
pn()
clipr::read_clip()
pn()
clipr::read_clip()
pn()
clipr::write_clip()
clipr::read_clip()
clipr::write_clip()
pn()
clipr::write_clip(c("Text", "for", "clipboard"))
clipr::write_clip(c("Text", "for", "clipboard"))
clipr::write_clip(c("Text", "for", "clipboard"))
clipr::write_clip(now() %>% as.character())
use_package('glue')
use_package('clipr')
install.packages("cli")
load_all()
pn()
pn()
devtools::install_github('JiaxiangBU/add2blog')
library(add2blog)
#' Print the current time friendly
#'
#' @return Character for print
#' @import lubridate
#' @import clipr
#' @import glue
#' @import cli
#' @export
#' @examples
#' pn()
pn <- function(){
text <- lubridate::now() %>%
as.character()
text %>%
cat
clipr::write_clip(text)
glue::glue('This text is on your system clipboard') %>%
cli::rule(center = ., col = "red")
}
library(add2blog)
library(add2blog)
pn()
#' Print the current time friendly
#'
#' @return Character for print
#' @import lubridate
#' @import clipr
#' @import glue
#' @import cli
#' @export
#' @examples
#' pn()
pn <- function(){
text <- lubridate::now() %>%
as.character()
text %>%
cat
clipr::write_clip(text)
glue::glue('\n\n\nThis text is on your system clipboard\n\n\n') %>%
cli::rule(center = ., col = "red")
}
pn()
#' Print the current time friendly
#'
#' @return Character for print
#' @import lubridate
#' @import clipr
#' @import glue
#' @import cli
#' @export
#' @examples
#' pn()
pn <- function(){
text <- lubridate::now() %>%
as.character()
text %>%
cat
clipr::write_clip(text)
print('\n\n')
glue::glue('This text is on your system clipboard') %>%
cli::rule(center = ., col = "red")
}
pn()
#' Print the current time friendly
#'
#' @return Character for print
#' @import lubridate
#' @import clipr
#' @import glue
#' @import cli
#' @export
#' @examples
#' pn()
pn <- function(){
text <- lubridate::now() %>%
as.character()
text %>%
cat
clipr::write_clip(text)
cat('\n\n')
glue::glue('This text is on your system clipboard') %>%
cli::rule(center = ., col = "red")
}
pn()
add2blog::badge_download(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = 'total'
)
#' Get a badge for the download count of your package
#'
#' Input your github name and repo name,
#' this function will feedback the download count of your package.
#'
#' @param your_github_name character
#' @param your_github_repo character
#' @param type character copy it.
#'
#' @return character
#' @import glue
#' @export
#' @examples
#' add2blog::badge_download(
#' your_github_name = 'JiaxiangBU'
#' ,your_github_repo = 'add2prep'
#' ,type = 'total')
badge_download <- function(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = c('total')
){
glue('  [![GitHub All Releases](https://img.shields.io/github/downloads/{your_github_name}/{your_github_repo}/{type}.svg)](https://github.com/JiaxiangBU/add2prep)') %>%
print
glue('<<<Copy it above nto your README.md>>>>')
}
badge_download(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = 'total'
)
#' Get a badge for the download count of your package
#'
#' Input your github name and repo name,
#' this function will feedback the download count of your package.
#'
#' @param your_github_name character
#' @param your_github_repo character
#' @param type character copy it.
#'
#' @return character
#' @import glue
#' @import cli
#' @export
#' @examples
#' add2blog::badge_download(
#' your_github_name = 'JiaxiangBU'
#' ,your_github_repo = 'add2prep'
#' ,type = 'total')
badge_download <- function(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = c('total')
){
text = glue('  [![GitHub All Releases](https://img.shields.io/github/downloads/{your_github_name}/{your_github_repo}/{type}.svg)](https://github.com/JiaxiangBU/add2prep)') %>%
clipr::write_clip(text)
glue::glue('This text is on your system clipboard, copy it above into your README.md') %>%
cli::rule(center = ., col = "red")
}
badge_download(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = 'total'
)
badge_download(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = 'total'
)
source('~/Downloads/180805_folder_01/tmp_jli/trans/projIN/add2blog/R/badge_download.R', echo=TRUE)
#' Get a badge for the download count of your package
#'
#' Input your github name and repo name,
#' this function will feedback the download count of your package.
#'
#' @param your_github_name character
#' @param your_github_repo character
#' @param type character copy it.
#'
#' @return character
#' @import glue
#' @import cli
#' @export
#' @examples
#' add2blog::badge_download(
#' your_github_name = 'JiaxiangBU'
#' ,your_github_repo = 'add2prep'
#' ,type = 'total')
badge_download <- function(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = c('total')
){
text = glue('  [![GitHub All Releases](https://img.shields.io/github/downloads/{your_github_name}/{your_github_repo}/{type}.svg)](https://github.com/JiaxiangBU/add2prep)')
clipr::write_clip(text)
glue::glue('This text is on your system clipboard, copy it above into your README.md') %>%
cli::rule(center = ., col = "red")
}
badge_download(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = 'total'
)
#' Get a badge for the download count of your package
#'
#' Input your github name and repo name,
#' this function will feedback the download count of your package.
#'
#' @param your_github_name character
#' @param your_github_repo character
#' @param type character copy it.
#'
#' @return character
#' @import glue
#' @import cli
#' @export
#' @examples
#' add2blog::badge_download(
#' your_github_name = 'JiaxiangBU'
#' ,your_github_repo = 'add2prep'
#' ,type = 'total')
badge_download <- function(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = c('total')
){
text = glue('  [![GitHub All Releases](https://img.shields.io/github/downloads/{your_github_name}/{your_github_repo}/{type}.svg)](https://github.com/JiaxiangBU/add2prep)')
text %>% cat
clipr::write_clip(text)
glue::glue('This text is on your system clipboard, copy it above into your README.md') %>%
cli::rule(center = ., col = "red")
}
badge_download(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = 'total'
)
#' Get a badge for the download count of your package
#'
#' Input your github name and repo name,
#' this function will feedback the download count of your package.
#'
#' @param your_github_name character
#' @param your_github_repo character
#' @param type character copy it.
#'
#' @return character
#' @import glue
#' @import cli
#' @export
#' @examples
#' add2blog::badge_download(
#' your_github_name = 'JiaxiangBU'
#' ,your_github_repo = 'add2prep'
#' ,type = 'total')
badge_download <- function(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = c('total')
){
text = glue('  [![GitHub All Releases](https://img.shields.io/github/downloads/{your_github_name}/{your_github_repo}/{type}.svg)](https://github.com/JiaxiangBU/add2prep)')
text %>% cat
clipr::write_clip(text)
cat('\n\n')
glue::glue('This text is on your system clipboard, copy it above into your README.md') %>%
cli::rule(center = ., col = "red")
}
badge_download(
your_github_name = 'JiaxiangBU'
,your_github_repo = 'add2prep'
,type = 'total'
)
document()
devtools::install_github('JiaxiangBU/add2blog')
devtools::install_github('JiaxiangBU/add2blog')
devtools::install_github('JiaxiangBU/add2blog',force = TRUE)
library(add2blog)
library(add2blog)
library(add2blog)
library(add2blog)
library(add2blog)
install.packages("dplyr")
library(add2blog)
pn()
build_news()
build_home()
use_pkgdown()
library(packrat)
build_site()
load_all()
packrat::init()
set_opts(loca.repos = '/Library/Frameworks/R.framework/Versions/3.5/Resources/library')
packrat::set_opts(local.repos = c("/Library/Frameworks/R.framework/Versions/3.5/Resources/library"))
install_local('knitr')
install.packages("knitr")
knitr::opts_chunk$set(
collapse = TRUE,
comment = "#>",
fig.path = "man/figures/README-",
out.width = "100%"
)
library(add2blog)
library(add2blog)
library(add2blog)
pn()
library(add2blog)
library(tidyverse)
pn()
packrat::init()
install.packages("spelling")
load_all()
library(devtools)
load_all()
devtools::install_github('JiaxiangBU/add2blog')
library(add2blog)
add2blog::pn()
add2blog::pn()
add2blog::pn()
add2blog::pn()
add2blog::pn()
add2blog::pn()
11
library(devtools)
use_mit_license()
options(usethis.full_name = "Jiaxiang Li")
use_mit_license()
use_readme_rmd()
use_news_md()
use_git_config()
use_description()
use_github()
browse_github_pat()
use_github()
use_github_links()
build_site()
install.packages("rmarkdown")
library(rmarkdown)
render('README.Rmd')
library(devtools)
install.packages("devtools")
library(devtools)
install.packages("pkgdown")
library(pkgdown)
build_site()
install.packages("tidyverse")
install.packages("data.table")
install.packages("magick")
library(devtools)
load_all()
install.packages("usethis")
library(usethis)
use_package('stringr')
use_package('data.table')
use_package('purrr')
purrr::fun()
use_package('magick')
use_package('dplyr')
load_all()
load_all(.)
library(pkgdown)
build_site()
